function K(e,t){return t||=null,i(n=>{for(let[o,r]of Object.entries(e)){if(r==null)return n.removeAttributeNS(t,o);n.setAttributeNS(t,o,String(r))}})}var L=Symbol(),y="$",c=new Set,l=new WeakMap,d;function V(e,t){return S(e)-S(t)}function q(){for(let e of[...c].sort(V).map(B))e&&queueMicrotask(e);c.clear()}function N(e){if(!c.has(e)){c.size===0&&queueMicrotask(q),c.add(e);for(let t of l.get(e)?.observers||[])N(t)}}function M(e){let[t,n]=I(d),o={};try{Object.assign(o,e())}finally{n()}let r=Symbol();for(let s of t)l.get(s)?.observers.add(r);return l.set(r,{distance:[...t].map(S).reduce(z,-1)+1,observers:new Set,update(){Object.assign(o,e())}}),new Proxy(o,{get(s,u,x){return u===L?()=>{for(let a of t)l.get(a)?.observers.delete(r);t.clear(),t.delete(r)}:(d?.add(r),Reflect.get(s,u,x))},set(){return!1}})}function C(...e){for(let t of e)t[L]()}function X(e){let t=Symbol();return l.set(t,{distance:0,observers:new Set}),new Proxy(e,{get(n,o,r){return typeof o=="string"&&o.startsWith(y)?(N(t),Reflect.get(n,o.substring(y.length),r)):(d?.add(t),Reflect.get(n,o,r))},set(n,o,r,s){return typeof o=="string"&&o.startsWith(y)?!1:(N(t),Reflect.set(n,o,r,s))}})}function I(e){return[d=new Set,()=>d=e]}function S(e){return l.get(e)?.distance||0}function z(e,t){return Math.max(e,t)}function B(e){return l.get(e)?.update}var p=new WeakMap;function j(e,...t){let n=p.get(e);n||p.set(e,n=[]),n.push(...t.map(M))}function H(e){let t=p.get(e);if(t){for(let n of t)C(n);p.delete(e)}}var v=new WeakMap;function P(e){for(let[t,n,o]of v.get(e)||[])e.removeEventListener(t,n,o)}function oe(e,t,n){return i(o=>{o.addEventListener(e,t,n),v.get(o)?.push([e,t,n])===void 0&&v.set(o,[[e,t,n]])})}var A=new WeakSet;function R(e){return A.has(e)}function se(e){return A.add(e),e}function E(e,t){if(!(!t&&R(e))){for(let n of[...e.childNodes])E(n,t);H(e),P(e),e.parentNode?.removeChild(e)}}var h=Symbol();function m(e,t,n){if(t!=null){switch(typeof t){case"function":return G(e,t,n);case"object":if(h in t)return m(e,t[h](e),n);if("nodeType"in t)return n(t);if(Array.isArray(t))for(let o of t)m(e,o,n);else Object.assign(e,t);return}e.ownerDocument&&n(e.ownerDocument.createTextNode(String(t)))}}function G(e,t,n){let o=[],r,s;function u(a){o.push(a)}function x(){let a=e.ownerDocument;if(!a)return;if(!r){if(o.length===0)return;n(r=a.createTextNode("")),n(s=a.createTextNode(""))}let f=a.createRange();f.setStartAfter(r),f.setEndBefore(s);let F=f.extractContents();if(setTimeout(E,100,F),o.length===0)return;let D=a.createDocumentFragment();D.append(...o),f.insertNode(D)}j(e,()=>{m(e,t(e),u),x(),o.length=0})}function i(e){return{[h]:e}}function b(e,...t){function n(o){e.appendChild(o)}for(let o of t)m(e,o,n);return e}function be(e,t){let n=t===void 0?o=>e.createElement(o):o=>e.createElementNS(t,o);return new Proxy({},{get(o,r){if(typeof r=="string")return(...s)=>b(n(r),...s)}})}var U=0n;function we(...e){return i(t=>{if(t.ownerDocument)return b(t.ownerDocument?.createDocumentFragment(),...e)})}function $(){let e=String(U++);return Object.assign(e,i(t=>{t.id=e}))}var k=new WeakSet,Z=/([A-Z])/g,W,g;function Me(e){let t=Symbol(),n=(W||"s")+$();return Object.assign(n,i(o=>{k.has(t)||O(w(o.ownerDocument),`.${n}`,T(e)),o.classList.add(n)}))}function w(e){if(g)return g;let t=e.createElement("style");return e.head.appendChild(t),g=t.sheet,w(e)}function Ce(e){let t=Symbol();return i(n=>{if(k.has(t))return;let o=w(n.ownerDocument);for(let[r,s]of Object.entries(e))if(typeof s=="string")O(o,r,s);else for(let u of Array.isArray(s)?s:[s])O(o,r,T(u));k.add(t)})}function O(e,t,n){e.insertRule(`${t}{${n}}`,e.cssRules.length)}function je(e){W=e}function He(e){g=e}function Pe(e,t){return i(n=>{n.classList.toggle(e,t)})}function T(e){return Object.entries(e).map(_).join("")}function _([e,t]){return typeof t=="string"?(e.startsWith("--")||(e=e.replaceAll(Z,"-$1").toLowerCase()),`${e}:${t};`):(Array.isArray(t)||(t=[t]),t.map(n=>`${e}{${T(n)}}`).join(""))}export{K as attributes,Me as css,M as derived,C as dispose,we as fragment,Ce as globalCss,i as hook,$ as id,R as isReusable,b as jot,X as mutable,oe as on,E as remove,P as removeEventListeners,se as reusable,je as setStylePrefix,He as setStyleSheet,be as tags,Pe as toggle};
//# sourceMappingURL=jot.min.js.map
